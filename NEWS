NEWS for IXIN
See end for copying conditions.


- 1.3 | NOT YET RELEASED

  - changes to the distribution

    - ChangeLog files included

	Previous omission was an oversight.

    - programs now in c/ (control), documents in d/ (data)

	Things were getting difficult to see on one dired screen.

  - mkixin renamed from a2ixin, handles only .sxml

	Handling both .xml and .sxml was a feature not central to the
	purpose of IXIN (the project).  Distractions be gone!

  - mkixin processes all files

	Instead of ‘for f in F1 F2... ; do ./mkixin $f ; done’,
	you can simply do ‘./mkixin F1 F2...’.

  - node data now almost-SXML (text)

	Node data is no longer written gzipped and base64-encoded.
	Now it is simply text (ATTRS ELEMENT...), plus trailing newline.

	To get a valid SXML element, ‘read’ it and cons ‘node’ to it.
	This what retrieve commands ‘show-node’ and (repl) ‘show’ do.
	In contrast, ‘dump’, ‘dump/abbrev’ and ‘dump-node’ do not.

	Relatedly, ‘dump/abbrev’ now takes N-BYTES instead of COLUMNS.

  - new top-level block: "two-letter" indices

	Zero or more of these may appear between INDEX and NODES.
	Correspondingly, the TLI in COUNTS now has additional
	byte-length and entry-count info.  See README.

  - new top-level block: section tree

	This is a single, recursively self-similar expression describing
	the "chapter structuring".  Correspondingly, COUNTS now includes
	the byte-length.  See README.

  - new doc: serveez.{xml,sxml,ixin}

	This is from GNU Serveez 0.2.0 (not yet released), which makes
	use of ‘@set txideftypefnnl’, in particular.  In serveez.ixin,
	this appears in the VARS section of META, somewhat weirdly,
	considering its semantics, but not entirely unexpected, given
	its syntax.  Sigh, bugward comp[au]tability issues...  :-/

  - new explorations re producing SXML w/o Guile

	See new header "producing SXML w/o Guile" in README.


- 1.2 | 2012-12-03

  - bugfix: use ‘pretty-print’ also for index

	Previously, a node name could be incorrectly written in the index
	due to the lameness of ‘object->string’ (mentioned in release 1.1).
	You can see this by copying new file prob.xml into the previous
	release and running "make prob.ixin".  Contrast to the prob.ixin
	distributed in this release.

  - new retrieve command: dump-node

	This displays the raw node data for a selected node to stdout.
	To get the tree, do: ‘./retrieve ... | base64 -d | gzip -d’.

  - new retrieve command: repl

	This runs a simple command loop that reads from stdin and writes to
	stdout.  The program maintains a "current node", and recognizes
	some simple navigation and display commands.  Type ‘quit’ to quit.

	To see this in action, try "make demo-zow".  Add ‘ZOW=rcs’, e.g.,
	to choose rcs.ixin (defaults to alive.ixin if not specified).

  - ‘meta’ format defined

	Previously, it was simply the portion of the (input) SXML prior to
	the first ‘node’ element.  Now, it has the form:

	(ATTRS XID VARS SETTINGS COPYING TITLEPAGE ELEMENT...)

	This change is a move from underspecified to specified, so the
	version number of the format remains at 1.  See README.


- 1.1 | 2012-12-01

  - included in dist: .sxml, .ixin files

	This is for the benefit of Guile 2-only users, and those who
	choose not to install Mixp.  If you modify foo.xml, however, you
	will still need Mixp (or a fixed a1-nf3-guile2) to update the
	foo.sxml (optionally) and foo.ixin (certainly) files.

  - bugfix: ‘(ice-9 pretty-print)’ fix applied more/less deeply

	Previously, the ‘string-xrep’ fix was applied only when the
	object to be output was directly a string.  Now, we intervene
	for any object (subverting ‘object->string’), to be able to
	handle two compound types, list and vector, which themselves may
	contain strings (and thus must be walked).  So much for the
	"more deeply" side.

	The "less deeply" comes from the incomplete (application
	specific) coverage of compound types.  Everything besides
	string, list or vector is still shunted to ‘object->string’.
	This imposes a maintenance burden: should programs one day wish
	to pretty-print other compound types that involve ‘write’ or
	‘object->string’ on strings internally, the subversion needs
	to be appropriately updated.

	Anyway, this bug manifested in the improper output of:

	  (punct (@ (end-of-sentence "no")) "…")

	under Guile 1.8.7 (mangled ‘U+2026 HORIZONTAL ELLIPSES’), and
	possibly other places, where the form's xrep fits on one line.


- 1.0 | 2012-11-29
  - initial release



Copyright (C) 2012 Thien-Thi Nguyen

Copying and distribution of this file, with or without modification,
are permitted provided the copyright notice and this notice are preserved.

_________________________________
Local Variables:
mode: outline
outline-regexp: "\\([ ][ ]\\)*- "
End:
