NEWS for IXIN
See end for copying conditions.


- 1.5 | 2012-12-30

  - default now ‘-’ (hyphen)

	The following now default, if unspecified or unavailable, to ‘-’
	(hyphen).  In the first case (XID element), the previous default
	was the symbol ‘none’.  For the rest, no default was specified
	previously.

	XID element
	META COPYING

  - META COPYING default now ‘-’ (hyphen)

	This applies to copying.

  - DIRCATEGORY (in META XID) replaced by INVITATIONS

	INVITATIONS is derived from all ‘@dircategory’ and ‘@direntry’
	commands.  If there are none, this is ‘-’ (hyphen).  Otherwise,
	it is a list that combines the (possbily zero) entries for each
	category.  An unspecified category is represented by ‘-’ (hyphen).

  - dropped POSITION in ‘float’ entry

	Form is now the minimal needed for ‘@listoffloats’ rendering:

	(NAME SHORT-CAPTION NID)

  - whitespace normalization specified

	Yes, that invisible yet strangely ugly topic.  Sigh.

    - trimmed

	These elements should not "begin" with newline and
	should not "end" with whitespace.

	example     smallexample    verbatim
	lisp        smalllisp       quotation
	display     smalldisplay    para
	format      smallformat     pre
	flushleft   flushright      cartouche

    - s/newline/space/ for ‘para’

	Internal newlines not protected by ‘xml:space’ "preserve"
	should be changed to space.

  - new support for TexinfoML V5.00

	The DTDs from both Texinfo 4.13 and 4.13.92 are now in subdir
	dtd/, as 4.13.dtd and 5.00.dtd, respectively, and mkixin can
	handle either version, unifying handling (and thus output) for
	the most part.  Some unavoidable differences remain, due to
	fundamental changes in the DTD.  For example, in element ‘node’,
	V4.13 uses child element ‘title’, and V5.00 ‘sectiontitle’.

	Except for d/prob.xml and (new file) spec/z4.xml, the .xml files
	are now in V5.00 format.  In a future release, support for V4.13
	will be dropped.

  - META TITLEPAGE no longer specifes attribute ‘copying’

	It used to require ‘(@ (copying "copying"))’ to signal presence
	of child element ‘insertcopying’.  Redundant, noisy, bye-bye!

  - miscellaneous improvements in the spec document

    - expanded index

	The largely superfluous Program Index is now the Program and
	Doubt Index.  This is mostly to exercise ‘@syncodeindex’.

    - "image inlining" moved to its own subsection

	It used to be part of "node data".

    - say "byte-length" instead of "length"

	Relatedly, the blocks are named foo-LEN, to save space.

  - internal references specified

	The SXML attribute ‘ixcc’ (IXIN cartesian coordinate) is used in
	various contexts to reduce duplication of forms in the nodes.
	This attribute is not in the DTD, but perhaps should be added.

  - "make check" in spec builds files in same dir

	Previously, ixin.ixin was built in ../d, but that's lame.

  - COUNTS TOP dropped

	The ‘Top’ node always has node identifier 0.

  - META ATTRS dropped

	The ‘xml:lang’ attribute is captured in META XID LANG, so META
	ATTRS is redundant.  Good-bye!

  - doc d/prob.xml includes element ‘anchor’

	This is in the (broken) style of makeinfo 4.13 and earlier,
	i.e., the value of attribute ‘name’ contains characters outside
	of [-_a-zA-Z0-9], the set for valid labels.

	See: (info "(texinfo) HTML Xref Node Name Expansion")

  - external reference targets (aka normalized labels)  specified

	If there are any labels (info "(texinfo) HTML Xref")
	then this new block appears after the sectioning tree.
	COUNTS now includes LABELS-LEN.

	Relatedly, util program retrieve has new command ‘show-labels’
	(also available via command ‘repl’, btw).  This displays a line:

	LABEL NID [WHAT]

	for each label, where WHAT, if omitted, implies ‘node’.  Try
	"make demo-zow" in c/ and "../c/retrieve ixin.ixin show-labels"
	in spec/.

  - support for "make try-STEM TRY=COMMAND"

	For example: "cd d && make try-rcs TRY=show-labels".

  - new doc: coreutils.{xml,sxml,ixin}

	This is from GNU coreutils Git repo, circa January 2012.  It
	features heavy @dircatalog / @direntry usage and general heft.


- 1.4 | 2012-12-22

  - retrieve reads ‘coding’, as well

	Previously, this was ignored.  Now it is read and displayed
	(but otherwise still ignored, thereafter :-D).

  - specification moved from README into its own document

	Sometimes it's impossible to resist the urge to bloviate...
	Relatedly, you can "make check" there, too.  See subdir spec/.

	Probably, over time, more of README will follow.

	The spec document includes a new section "Terminology", not in
	the original README, for general terms.  It also doesn't mention
	anymore the "input SXML", as mkixin design/implementation has
	nothing to do w/ the file format proper.  On the other hand,
	"vetting gaps" (where mkixin is lacking) are now footnoted.

  - META ‘xid’ includes LANG

	Derived from ‘@documentlanguage’, this is either a symbol, such
	as ‘en’ or a list of two symbols, such as ‘(en US)’, which also
	happens to be the default value if unspecified.

  - automagic processing specified for three old-style txi* vars

	These ‘@set/@clear VAR’ are converted to ‘@SETTING on/off’:

	txicodequoteundirected     codequoteundirected
	txicodequotebacktick       codequotebacktick
	txideftypefnnl             deftypefnnewline

	For example, see d/serveez.ixin META.

  - new table in SETTINGS

	This used to be README "groupings", refined a bit.  The group
	designation is now called the "context", one of ‘O’ or ‘A’.
	There are new entries: ‘everyheading’, ‘everyfooting’.

  - META ‘titlepage’ now uses SXML ‘insertcopying’

	Previously, the "link" was the string "@insertcopying".
	Now, it is the SXML ‘(insertcopying (@))’.

  - META last element now TOC

	This used to be the "remaining SXML after ‘titlepage’".  Now it
	is a list of symbols in the set: ‘contents’, ‘shortcontents’,
	‘summarycontents’.

  - out w/ "two-letter indices", in w/ "document-term sets"

	This de-emphasizes the two-letter nature, and bumps out the word
	"index" (already very heavily used), to reduce confusion.  As a
	bonus, the string length of both old and new terms and their
	acronyms remain the same (18 and 3, respectively) -- woo hoo!

  - DTS "default font" and "inverse default font" specifiable

	Each (non-empty) DTS now has an initial form that includes
	"default font" (a symbol, ‘r’ or ‘code’).  An entry now may
	specify "inverse default font" with the symbol ‘-’ (hyphen)
	in its first position.

	Concurrently, DTS-INDEX now omits DTS-COUNT, as that has moved
	into the DTS initial form.

  - new specification / support for "float sets"

	The new "floset" (‘float’ and ‘listoffloat’) handling is
	analogous to that of "dts" (‘indexterm’ and ‘printindex’).

  - TWEAKS specified for NODE-INDEX elements

	The form is now: (NAME LENGTH NEXT PREV UP [TWEAKS]),
	where TWEAKS is a list of (NAME VALUE), like SETTINGS.

  - S-TREE moved forward, immediately after NODE-INDEX

	We want to move the optional portions (DTS) later, such that
	future addition of new portions can be more uniform (via "tail
	stretching").  This is a design-aesthetic, upward-compatability,
	hand-wavy, out-of-our-gourd reason, admittedly...

	Also, this block is now called the "sectioning tree".

  - new specification / support for "image inlining"

	The specification allows for any detectable image type, using
	MIME ‘image/TYPE’.  The tools support, however, is limited to
	mkixin guessing ‘image/png’ or ‘image/jpeg’, based on file
	extension.  Since the data is inlined into node data, retrieve
	does nothing special w/ it.

  - doc d/prob.xml includes combining chars and cyrillic

	Hmmm, is it valid XML to use combining chars when there are
	alternatives?  (See comment in doc.)


- 1.3 | 2012-12-11

  - changes to the distribution

    - ChangeLog files included

	Previous omission was an oversight.

    - programs now in c/ (control), documents in d/ (data)

	Things were getting difficult to see on one dired screen.

  - mkixin renamed from a2ixin, handles only .sxml

	Handling both .xml and .sxml was a feature not central to the
	purpose of IXIN (the project).  Distractions be gone!

  - mkixin processes all files

	Instead of ‘for f in F1 F2... ; do ./mkixin $f ; done’,
	you can simply do ‘./mkixin F1 F2...’.

  - node data now almost-SXML (text)

	Node data is no longer written gzipped and base64-encoded.
	Now it is simply text (ATTRS ELEMENT...), plus trailing newline.

	To get a valid SXML element, ‘read’ it and cons ‘node’ to it.
	This what retrieve commands ‘show-node’ and (repl) ‘show’ do.
	In contrast, ‘dump’, ‘dump/abbrev’ and ‘dump-node’ do not.

	Relatedly, ‘dump/abbrev’ now takes N-BYTES instead of COLUMNS.

  - new top-level block: "two-letter" indices

	Zero or more of these may appear between INDEX and NODES.
	Correspondingly, the TLI in COUNTS now has additional
	byte-length and entry-count info.  See README.

  - new top-level block: section tree

	This is a single, recursively self-similar expression describing
	the "chapter structuring".  Correspondingly, COUNTS now includes
	the byte-length.  See README.

  - new doc: serveez.{xml,sxml,ixin}

	This is from GNU Serveez 0.2.0 (not yet released), which makes
	use of ‘@set txideftypefnnl’, in particular.  In serveez.ixin,
	this appears in the VARS section of META, somewhat weirdly,
	considering its semantics, but not entirely unexpected, given
	its syntax.  Sigh, bugward comp[au]tability issues...  :-/

  - new explorations re producing SXML w/o Guile

	See new header "producing SXML w/o Guile" in README.

  - META-divvying work-in-progress

	See new header "groupings" in README.


- 1.2 | 2012-12-03

  - bugfix: use ‘pretty-print’ also for index

	Previously, a node name could be incorrectly written in the index
	due to the lameness of ‘object->string’ (mentioned in release 1.1).
	You can see this by copying new file prob.xml into the previous
	release and running "make prob.ixin".  Contrast to the prob.ixin
	distributed in this release.

  - new retrieve command: dump-node

	This displays the raw node data for a selected node to stdout.
	To get the tree, do: ‘./retrieve ... | base64 -d | gzip -d’.

  - new retrieve command: repl

	This runs a simple command loop that reads from stdin and writes to
	stdout.  The program maintains a "current node", and recognizes
	some simple navigation and display commands.  Type ‘quit’ to quit.

	To see this in action, try "make demo-zow".  Add ‘ZOW=rcs’, e.g.,
	to choose rcs.ixin (defaults to alive.ixin if not specified).

  - ‘meta’ format defined

	Previously, it was simply the portion of the (input) SXML prior to
	the first ‘node’ element.  Now, it has the form:

	(ATTRS XID VARS SETTINGS COPYING TITLEPAGE ELEMENT...)

	This change is a move from underspecified to specified, so the
	version number of the format remains at 1.  See README.


- 1.1 | 2012-12-01

  - included in dist: .sxml, .ixin files

	This is for the benefit of Guile 2-only users, and those who
	choose not to install Mixp.  If you modify foo.xml, however, you
	will still need Mixp (or a fixed a1-nf3-guile2) to update the
	foo.sxml (optionally) and foo.ixin (certainly) files.

  - bugfix: ‘(ice-9 pretty-print)’ fix applied more/less deeply

	Previously, the ‘string-xrep’ fix was applied only when the
	object to be output was directly a string.  Now, we intervene
	for any object (subverting ‘object->string’), to be able to
	handle two compound types, list and vector, which themselves may
	contain strings (and thus must be walked).  So much for the
	"more deeply" side.

	The "less deeply" comes from the incomplete (application
	specific) coverage of compound types.  Everything besides
	string, list or vector is still shunted to ‘object->string’.
	This imposes a maintenance burden: should programs one day wish
	to pretty-print other compound types that involve ‘write’ or
	‘object->string’ on strings internally, the subversion needs
	to be appropriately updated.

	Anyway, this bug manifested in the improper output of:

	  (punct (@ (end-of-sentence "no")) "…")

	under Guile 1.8.7 (mangled ‘U+2026 HORIZONTAL ELLIPSES’), and
	possibly other places, where the form's xrep fits on one line.


- 1.0 | 2012-11-29
  - initial release



Copyright (C) 2012 Thien-Thi Nguyen

Copying and distribution of this file, with or without modification,
are permitted provided the copyright notice and this notice are preserved.

_________________________________
Local Variables:
mode: outline
outline-regexp: "\\([ ][ ]\\)*- "
End:
